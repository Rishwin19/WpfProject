<UserControl x:Class="PatientAdmissionApp.AppointmentConfirmationNotificationControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="400" d:DesignWidth="600">
    <Grid Margin="20">
        <StackPanel>
            <TextBlock Text="Appointment Confirmation" FontSize="18" FontWeight="Bold" Margin="0,0,0,10"/>
            
            <TextBlock Text="Patient Name:"/>
            <TextBox Width="200"/>

            <TextBlock Text="Appointment Date:"/>
            <DatePicker Width="200"/>

            <TextBlock Text="Confirmation Status:"/>
            <ComboBox Width="200">
                <ComboBoxItem Content="Confirmed"/>
                <ComboBoxItem Content="Pending"/>
                <ComboBoxItem Content="Cancelled"/>
            </ComboBox>

            <Button Content="Send Update" Width="100" Height="30" Margin="0,10,0,0"/>

            <!-- DataGrid with Sample Data -->
            <TextBlock Text="Registered Patients" FontSize="16" FontWeight="Bold" Margin="0,20,0,5"/>
            <DataGrid AutoGenerateColumns="False" Height="200" Margin="0,10,0,0">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Patient Name" Width="*" Binding="{Binding}"/>
                    <DataGridTextColumn Header="Age" Width="*" Binding="{Binding}"/>
                    <DataGridTextColumn Header="Date of Birth" Width="*" Binding="{Binding}"/>
                    <DataGridTextColumn Header="Slot" Width="*" Binding="{Binding}"/>
                </DataGrid.Columns>
                
                <!-- Sample Rows -->
                <DataGrid.RowDefinitions>
                    <DataGridRow>
                        <DataGridCell Content="John Doe"/>
                        <DataGridCell Content="30"/>
                        <DataGridCell Content="04/05/1993"/>
                        <DataGridCell Content="Morning"/>
                    </DataGridRow>
                    <DataGridRow>
                        <DataGridCell Content="Jane Smith"/>
                        <DataGridCell Content="25"/>
                        <DataGridCell Content="08/15/1998"/>
                        <DataGridCell Content="Evening"/>
                    </DataGridRow>
                    <DataGridRow>
                        <DataGridCell Content="Emily Brown"/>
                        <DataGridCell Content="40"/>
                        <DataGridCell Content="12/03/1983"/>
                        <DataGridCell Content="Morning"/>
                    </DataGridRow>
                </DataGrid.RowDefinitions>
            </DataGrid>
        </StackPanel>
    </Grid>
</UserControl>








<UserControl x:Class="PatientAdmissionApp.PatientDashboardControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid Margin="20">
        <StackPanel>
            <TextBlock Text="Patient Dashboard" FontSize="22" FontWeight="Bold" Margin="0,0,0,20"/>

            <!-- Patients DataGrid -->
            <DataGrid ItemsSource="{Binding Patients}" AutoGenerateColumns="False" Height="150">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Name" Binding="{Binding Name}" />
                    <DataGridTextColumn Header="Age" Binding="{Binding Age}" />
                    <DataGridTextColumn Header="Gender" Binding="{Binding Gender}" />
                    <DataGridTextColumn Header="Contact" Binding="{Binding Contact}" />
                </DataGrid.Columns>
            </DataGrid>

            <!-- Medical Records DataGrid -->
            <DataGrid ItemsSource="{Binding MedicalRecords}" AutoGenerateColumns="False" Height="200" Margin="0,20,0,0">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Date" Binding="{Binding Date}" />
                    <DataGridTextColumn Header="Diagnosis" Binding="{Binding Diagnosis}" />
                    <DataGridTextColumn Header="Prescription" Binding="{Binding Prescription}" />
                    <DataGridTextColumn Header="Notes" Binding="{Binding Notes}" />
                </DataGrid.Columns>
            </DataGrid>

            <!-- Action Buttons -->
            <Button Content="Register Patient" Click="RegisterPatientButton_Click" Width="150" Margin="0,10"/>
            <Button Content="Filter Records" Click="FilterRecordsButton_Click" Width="150" Margin="0,10"/>
        </StackPanel>
    </Grid>
</UserControl>

using System;
using System.Windows;
using System.Windows.Controls;

public partial class PatientDashboardControl : UserControl
{
    private readonly PatientDashboardViewModel _viewModel;

    public PatientDashboardControl()
    {
        InitializeComponent();
        _viewModel = new PatientDashboardViewModel();
        DataContext = _viewModel;

        // Subscribe to ViewModel events
        _viewModel.PatientRegistered += OnPatientRegistered;
        _viewModel.FilterRecordsRequested += OnFilterRecordsRequested;
    }

    private void OnPatientRegistered(object sender, EventArgs e)
    {
        MessageBox.Show("Patient registered successfully.");
        // Additional UI update logic if needed
    }

    private void OnFilterRecordsRequested(object sender, EventArgs e)
    {
        MessageBox.Show("Medical records filtered successfully.");
        // Additional UI update logic if needed
    }

    // Button click handlers that trigger the ViewModel methods
    private void RegisterPatientButton_Click(object sender, RoutedEventArgs e)
    {
        var newPatient = new Patient { Name = "John Doe", Age = 30, Gender = "Male", Contact = "1234567890" };
        _viewModel.RegisterPatient(newPatient);  // This raises the PatientRegistered event
    }

    private void FilterRecordsButton_Click(object sender, RoutedEventArgs e)
    {
        _viewModel.RequestFilterRecords("DiagnosisFilter");  // This raises the FilterRecordsRequested event
    }
}
